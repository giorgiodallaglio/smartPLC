const int sensorePin = A0; // Assegna il sensore al pin analogico A0
int valoreSensore = 0; // Variabile per memorizzare il valore del sensore
float profondita = 0.0; // Variabile per memorizzare la profondità

const float maxVoltaggio = 5.0;
const float maxProfondita = 240.0; // Profondità massima della cisterna in cm
const float areaBase = 2.3 * 2.3; // Area della base in metri quadrati

void setup() {
  Serial.begin(9600); // Avvia la comunicazione seriale
  pinMode(sensorePin, INPUT); // Imposta il pin del sensore come input
}

void loop() {
  valoreSensore = analogRead(sensorePin); // Legge il valore del sensore
  float voltaggio = valoreSensore * (maxVoltaggio / 1023.0); // Converte il valore in voltaggio
  profondita = (voltaggio / maxVoltaggio) * maxProfondita; // Converte il voltaggio in profondità

  float percentuale = (profondita / maxProfondita) * 100; // Calcola la percentuale di riempimento
  float litri = (profondita / 100.0) * areaBase * 1000; // Calcola i litri presenti

  // Stampa i valori nel monitor seriale
  Serial.print("Profondità: ");
  Serial.print(profondita);
  Serial.print(" cm | Percentuale: ");
  Serial.print(percentuale);
  Serial.print(" % | Litri: ");
  Serial.print(litri);
  Serial.println(" L");

  delay(1000); // Attende 1 secondo prima della prossima lettura
}
