<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>smartPLC | Report</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="background-image"></div>

    <div class="sidebar">
        <span class="title">smartPLC</span>
        <a href="index.html"><i class="fas fa-home"></i>Home</a>
        <a href="cisterne.html"><i class="fas fa-tint"></i>Cisterne</a>
        <a href="contatori.html"><i class="fas fa-tachometer-alt"></i>Contatori</a>
        <a href="elettrovalvole.html"><i class="fas fa-water"></i>Elettrovalvole</a>
        <a href="pressioni.html"><i class="fas fa-wave-square"></i>Pressioni</a>
        <a href="report.html" class="active"><i class="fas fa-file-alt"></i>Report</a>
    </div>

    <div class="main">
        <div class="section">
            <h2>Log Report</h2>
            <!-- Barra di ricerca con stile Apple -->
           <div class="search-bar">
    <input type="text" id="search-input" placeholder="Cerca nei log...">
<button id="search-btn">Cerca</button>
           </div>

            
            <!-- Area per visualizzare i log -->
            <div id="log-container"></div>
        </div>
    </div>

    <script>
        // Funzione per caricare i log salvati dal localStorage
        function loadLogs() {
            let logs = JSON.parse(localStorage.getItem('logs')) || [];
            displayLogs(logs);
        }

        // Funzione per visualizzare i log
        function displayLogs(logs) {
            const logContainer = document.getElementById('log-container');
            logContainer.innerHTML = ''; // Pulisce l'area log

            logs.forEach(log => {
                const logEntry = document.createElement('p');
                logEntry.textContent = log;
                logContainer.appendChild(logEntry);
            });
        }

        // Funzione di ricerca nei log
        function searchLogs() {
            const searchInput = document.getElementById('search-input').value.toLowerCase();
            let logs = JSON.parse(localStorage.getItem('logs')) || [];
            
            // Filtra i log in base alla keyword cercata
            const filteredLogs = logs.filter(log => log.toLowerCase().includes(searchInput));
            
            displayLogs(filteredLogs); // Visualizza solo i log filtrati
        }

        // Carica i log quando la pagina viene caricata
        window.onload = loadLogs;
    </script>
</body>
</html>
