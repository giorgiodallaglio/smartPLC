<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>smartPLC | Cisterne</title>
    <!-- Collegamento al file CSS esterno -->
    <link rel="stylesheet" href="style.css">
    <!-- Collegamento a Font Awesome per le icone -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <!-- Immagine di sfondo con effetto blurry -->
    <div class="background-image"></div>

    <div class="sidebar">
        <span class="title">smartPLC</span>
        <a href="index.html"><i class="fas fa-home"></i>Home</a>
        <a href="cisterne.html" class="active"><i class="fas fa-tint"></i>Cisterne</a>
        <a href="contatori.html"><i class="fas fa-tachometer-alt"></i>Contatori</a>
        <a href="elettrovalvole.html"><i class="fas fa-water"></i>Elettrovalvole</a>
        <a href="pressioni.html"><i class="fas fa-wave-square"></i>Pressioni</a>
    </div>

    <div class="main">
        <div class="section">
            <h2>Cisterne</h2>
            <div class="tile-container">
                <div class="box-large">
    <i class="fas fa-tint tile-icon"></i>
    <div class="box-content">
        <h3>Rete</h3>
        <p id="rete-livello">Livello attuale: 0 lt</p>
        <p>Livello massimo: 10000 lt</p>
        <!-- Cisterna -->
        <div class="cisterna-container">
            <div class="cisterna-livello" id="rete-cisterna"></div>
        </div>
    </div>
</div>
                <div class="box-large">
    <i class="fas fa-tint tile-icon"></i>
    <div class="box-content">
        <h3>Osmosi</h3>
        <p id="osmosi-livello">0 lt</p>
        <p>Livello massimo: 10000 lt</p>
        <!-- Cisterna -->
        <div class="cisterna-container">
            <div class="cisterna-livello" id="osmosi-cisterna"></div>
        </div>
    </div>
</div>

<div class="box-large">
    <i class="fas fa-tint tile-icon"></i>
    <div class="box-content">
        <h3>Addolcita</h3>
        <p id="addolcita-livello">0 lt</p>
        <p>Livello massimo: 10000 lt</p>
        <!-- Cisterna -->
        <div class="cisterna-container">
            <div class="cisterna-livello" id="addolcita-cisterna"></div>
        </div>
    </div>
</div>
            </div>
        </div>
    </div>

    <script>
        // Funzione per generare un numero casuale tra due valori
        function randomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        // Funzione per aggiornare i livelli delle cisterne
function updateCisterne() {
    // Generazione dei livelli casuali
    var reteLivello = randomNumber(0, 10000);
    var osmosiLivello = randomNumber(0, 10000);
    var addolcitaLivello = randomNumber(0, 10000);

    // Aggiornamento dei testi con i livelli
    document.getElementById('rete-livello').textContent = reteLivello + ' lt';
    document.getElementById('osmosi-livello').textContent = osmosiLivello + ' lt';
    document.getElementById('addolcita-livello').textContent = addolcitaLivello + ' lt';
    
    // Aggiornamento dell'altezza della cisterna in base al livello
    document.getElementById('rete-cisterna').style.height = (reteLivello / 10000 * 100) + '%';
    document.getElementById('osmosi-cisterna').style.height = (osmosiLivello / 10000 * 100) + '%';
    document.getElementById('addolcita-cisterna').style.height = (addolcitaLivello / 10000 * 100) + '%';
}


        // Funzione per aggiornare i contatori
        function updateContatori() {
            document.getElementById('rete1-contatore').textContent = (parseInt(document.getElementById('rete1-contatore').textContent) + randomNumber(1, 10)) + ' m3';
            document.getElementById('rete2-contatore').textContent = (parseInt(document.getElementById('rete2-contatore').textContent) + randomNumber(1, 10)) + ' m3';
            document.getElementById('osmosi-contatore').textContent = (parseInt(document.getElementById('osmosi-contatore').textContent) + randomNumber(1, 10)) + ' m3';
            document.getElementById('addolcita-contatore').textContent = (parseInt(document.getElementById('addolcita-contatore').textContent) + randomNumber(1, 10)) + ' m3';
            document.getElementById('scarto-addolcita-contatore').textContent = (parseInt(document.getElementById('scarto-addolcita-contatore').textContent) + randomNumber(1, 5)) + ' m3';
            document.getElementById('acqua-bar-contatore').textContent = (parseInt(document.getElementById('acqua-bar-contatore').textContent) + randomNumber(1, 5)) + ' m3';
            document.getElementById('acqua-ristorante-contatore').textContent = (parseInt(document.getElementById('acqua-ristorante-contatore').textContent) + randomNumber(1, 5)) + ' m3';
        }

        // Funzione per simulare l'accensione e lo spegnimento delle elettrovalvole
        function updateValvole() {
            document.getElementById('valvola-rete').className = randomNumber(0, 1) === 0 ? 'led red' : 'led green';
            document.getElementById('valvola-osmosi').className = randomNumber(0, 1) === 0 ? 'led red' : 'led green';
            document.getElementById('valvola-addolcita').className = randomNumber(0, 1) === 0 ? 'led red' : 'led green';
            document.getElementById('valvola-scarto-addolcita').className = randomNumber(0, 1) === 0 ? 'led red' : 'led green';
        }

        // Funzione per aggiornare le pressioni
        function updatePressioni() {
            document.getElementById('rete-pressione').textContent = randomNumber(20, 40) + ' lt/m';
            document.getElementById('osmosi-pressione').textContent = randomNumber(0, 30) + ' lt/m';
            document.getElementById('addolcita-pressione').textContent = randomNumber(0, 30) + ' lt/m';
        }

        // Aggiorna i dati ogni 2 secondi
        setInterval(function() {
            updateCisterne();
            updateContatori();
            updateValvole();
            updatePressioni();
        }, 2000);
    </script>
</body>
</html>
